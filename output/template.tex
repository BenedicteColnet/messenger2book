\documentclass[a4paper,10pt,twoside]{book}
\usepackage[many]{tcolorbox}
\usepackage{xcolor}
\usepackage{varwidth}
\usepackage{environ}
\usepackage{xparse}

\newlength{\bubblesep}
\newlength{\bubblewidth}
\setlength{\bubblesep}{0.5pt}
\AtBeginDocument{\setlength{\bubblewidth}{.80\textwidth}}

% green is for right
% gray for left
% but I changed it
%\definecolor{bubblegreen}{RGB}{103,184,104}
%\definecolor{bubblegray}{RGB}{241,240,240}
\definecolor{bubblegreen}{RGB}{219,243,242}
\definecolor{bubblegray}{RGB}{231,239,239}


%emoji
\usepackage[ios,font=seguiemj.ttf]{emoji}
\usepackage{fontspec}

% force picture to be where we put them
\usepackage{here}

% put date in margin
\usepackage{marginnote}
\usepackage[top=2.5cm, bottom=2.5cm, outer=3cm, inner=3cm, heightrounded, marginparwidth=1.5cm, marginparsep=0.5cm]{geometry}


\newcommand{\bubble}[4]{%
  \tcbox[
    on line,
    arc=4.5mm,
    colback=#1,
    colframe=#1,
    #2,
  ]{\color{#3}\begin{varwidth}{\bubblewidth}#4\end{varwidth}}%
}

\ExplSyntaxOn
\seq_new:N \l__ooker_bubbles_seq
\tl_new:N \l__ooker_bubbles_first_tl
\tl_new:N \l__ooker_bubbles_last_tl

\NewEnviron{rightbubbles}
 {
  \begin{flushright}
  \sffamily
  \seq_set_split:NnV \l__ooker_bubbles_seq { \par } \BODY
  \int_compare:nTF { \seq_count:N \l__ooker_bubbles_seq < 2 }
   {
    \bubble{bubblegreen}{rounded~corners}{black}{\BODY}\par
   }
   {
    \seq_pop_left:NN \l__ooker_bubbles_seq \l__ooker_bubbles_first_tl
    \seq_pop_right:NN \l__ooker_bubbles_seq \l__ooker_bubbles_last_tl
    \bubble{bubblegreen}{sharp~corners=southeast}{black}{\l__ooker_bubbles_first_tl}
    \par\nointerlineskip
    \addvspace{\bubblesep}
    \seq_map_inline:Nn \l__ooker_bubbles_seq
     {
      \bubble{bubblegreen}{sharp~corners=east}{black}{##1}
      \par\nointerlineskip
      \addvspace{\bubblesep}
     }
    \bubble{bubblegreen}{sharp~corners=northeast}{black}{\l__ooker_bubbles_last_tl}
    \par
   }
   \end{flushright}
 }
\NewEnviron{leftbubbles}
 {
  \begin{flushleft}
  \sffamily
  \seq_set_split:NnV \l__ooker_bubbles_seq { \par } \BODY
  \int_compare:nTF { \seq_count:N \l__ooker_bubbles_seq < 2 }
   {
    \bubble{bubblegray}{rounded~corners}{black}{\BODY}\par
   }
   {
    \seq_pop_left:NN \l__ooker_bubbles_seq \l__ooker_bubbles_first_tl
    \seq_pop_right:NN \l__ooker_bubbles_seq \l__ooker_bubbles_last_tl
    \bubble{bubblegray}{sharp~corners=southwest}{black}{\l__ooker_bubbles_first_tl}
    \par\nointerlineskip
    \addvspace{\bubblesep}
    \seq_map_inline:Nn \l__ooker_bubbles_seq
     {
      \bubble{bubblegray}{sharp~corners=west}{black}{##1}
      \par\nointerlineskip
      \addvspace{\bubblesep}
     }
    \bubble{bubblegray}{sharp~corners=northwest}{black}{\l__ooker_bubbles_last_tl}\par
   }
  \end{flushleft}
 }
\ExplSyntaxOff


% format the section
\usepackage{titlesec}
\titleformat{\section}
  {\normalfont\sffamily\large\bfseries\centering}
  {\thesection}{1em}{}


% footer and header
\usepackage{fancyhdr}
\pagestyle{fancy}
%\fancyhead[LE,RO]{\thepage}
%\fancyhead[CE,RO]{\thesection}

\begin{document}

\section*{Examples to drop}
\marginnote{09:19}[0.8cm]
\begin{rightbubbles}
\noindent
J'ai lu le teasing d'intro, super bien posé, hâte d'en savoir plus !!!  Je sens que je vais apprendre des tonnes de choses, merci d'avoir partagé !!
\end{rightbubbles}

\reversemarginpar
\marginnote{12:19}[1cm]
\begin{leftbubbles}
My messages

And

Always talking 

too much.
\end{leftbubbles}


\foreach \m in {01,02,03,04,05,06,07,08,09,10,11,12}{%
    \foreach \d in {01,02,03,04,05,06,07,08,09,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31}{%
        \IfFileExists{sections/2020-\m-\d} {%
            \input{sections/2020-\m-\d}%
        }{%
                % files does not exist, so nothing to do
        }%
    }%
}%



\end{document}